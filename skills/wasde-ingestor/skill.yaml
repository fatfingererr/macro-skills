displayName: 下載與解析 WASDE 每月報告
emoji: "\U0001F33E"
authorUrl: https://github.com/fatfingererr/macro-skills

tools:
  - claude-code

featured: false
installCount: 0

testQuestions:
  - question: '匯入最新一期 WASDE 報告中的所有穀物資料（小麥、玉米、稻米）'
    expectedResult: |
      此匯入器會：
      1. 找出最新一期 WASDE 發布版本
      2. 下載 PDF 並解析穀物相關表格
      3. 擷取美國與全球的小麥、玉米、稻米供需平衡表
      4. 輸出標準化的 Parquet 資料集
  - question: '回補過去 36 個月的 WASDE 玉米資料'
    expectedResult: |
      此匯入器會處理 36 期每月發布版本，擷取玉米供需平衡表，
      並維持一致的 schema、內容雜湊（content hashes）與資料驗證檢查。
  - question: '將既有 WASDE 資料與最新報告進行比對驗證'
    expectedResult: |
      驗證器會將已儲存的資料與最新解析結果比對，標記任何修訂，
      並回報 schema 漂移或資料更正。

qualityScore:
  overall: 70
  badge: 白銀
  metrics:
    architecture: 80
    maintainability: 85
    content: 95
    community: 30
    security: 100
    compliance: 70
  details: |
    **架構（80/100）**
    - ✅ 模組化 router pattern 設計
    - ✅ 完整涵蓋所有 WASDE 商品類別
    - ⚠️ Alpha 階段，需更多實際使用驗證

    **可維護性（85/100）**
    - ✅ 清晰的工作流程分離
    - ✅ 商品參考文件獨立維護

    **內容（95/100）**
    - ✅ 涵蓋所有 WASDE 商品
    - ✅ 詳細的欄位映射與驗證規則

    **社區（30/100）**
    - ⚠️ 新技能，尚無社區貢獻

    **安全（100/100）**
    - ✅ 僅讀取公開 USDA 數據

    **規範符合性（70/100）**
    - ✅ 遵循 Claude Code 規範
    - ⚠️ Alpha 階段

bestPractices:
  - title: 等待 WASDE 正式發布
    description: WASDE 通常在每月 10-12 日發布，確認官方發布後再執行 ingest
  - title: 保留原始 PDF 備份
    description: 保存原始報告 PDF 以便在解析失敗時進行人工檢查
  - title: 監控 schema drift
    description: USDA 可能調整表格格式，定期檢查 schema_hash 變化
  - title: 使用 content_hash 進行版本控制
    description: 利用 content_hash 確保數據冪等性
  - title: 注意數據修正
    description: WASDE 會在後續月份修正歷史數據，需追蹤修正值

pitfalls:
  - title: 忽略 PDF 佈局變化
    description: USDA 可能在無預警情況下調整 PDF 格式
    consequence: 可能產生錯誤數據或完全無法解析
  - title: 單位混淆
    description: 不同商品使用不同單位（bushels, cwt, metric tons 等）
    consequence: 供需計算完全錯誤
  - title: 忽略行銷年度差異
    description: 不同商品的行銷年度起始月份不同
    consequence: 時間序列對齊錯誤

faq:
  - question: WASDE 報告涵蓋哪些商品？
    answer: |
      WASDE 涵蓋以下商品類別：

      **穀物 (Grains)**
      - 小麥 (Wheat) - 包含 by-class 細分
      - 玉米 (Corn)
      - 稻米 (Rice) - 長粒/中短粒
      - 大麥 (Barley)
      - 高粱 (Sorghum)
      - 燕麥 (Oats)

      **油籽 (Oilseeds)**
      - 大豆 (Soybeans)
      - 豆油 (Soybean Oil)
      - 豆粕 (Soybean Meal)

      **棉花 (Cotton)**
      - 美國棉花供需
      - 世界棉花供需

      **畜產品 (Livestock) - 僅美國**
      - 牛肉 (Beef)
      - 豬肉 (Pork)
      - 禽肉 (Poultry)
      - 雞蛋 (Eggs)
      - 乳製品 (Dairy/Milk)

      **糖 (Sugar)**
      - 美國糖供需
      - 墨西哥糖供需

  - question: 不同商品的行銷年度是什麼？
    answer: |
      | 商品 | 美國行銷年度 | 世界行銷年度 |
      |------|--------------|--------------
      | 小麥 | Jun-May      | Jul-Jun      |
      | 玉米 | Sep-Aug      | Oct-Sep      |
      | 大豆 | Sep-Aug      | Oct-Sep      |
      | 稻米 | Aug-Jul      | Jan-Dec      |
      | 棉花 | Aug-Jul      | Aug-Jul      |

  - question: 數據來源與發布時間？
    answer: |
      - **官網**: https://www.usda.gov/oce/commodity/wasde
      - **發布日期**: 每月約 10-12 日
      - **發布時間**: 美東時間中午 12:00
      - **格式**: PDF, TXT
      - **歷史檔案**: https://esmis.nal.usda.gov/

about:
  repository: https://github.com/fatfingererr/macro-skills
  branch: main
  additionalInfo: |
    ## 數據來源

    所有數據來自 USDA 官方 WASDE 報告：
    - 官網：https://www.usda.gov/oce/commodity/wasde
    - 歷史檔案：https://esmis.nal.usda.gov/
    - 數據類型：公開、免費、無限制使用

    ## 編製單位

    WASDE 由 World Agricultural Outlook Board (WAOB) 編製，
    整合以下機構資料：
    - Agricultural Marketing Service (AMS)
    - Economic Research Service (ERS)
    - Farm Service Agency (FSA)
    - Foreign Agricultural Service (FAS)
    - National Agricultural Statistics Service (NASS)
