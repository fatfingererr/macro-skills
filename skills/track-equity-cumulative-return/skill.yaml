displayName: 追蹤股票累積報酬率
emoji: "\U0001F4C8"
authorUrl: https://github.com/fatfingererr/macro-skills

tools:
  - claude-code

featured: false
installCount: 0
testQuestions:
  # 1.a：股票（多檔），僅指定年份（整年）
  - question: '分析 NVDA 與 AMD 在 2024 全年度的累積報酬'
    imagePath: images/cumulative-return-2024-only-2026-01-28.png
    expectedResult: |
      NVDA vs AMD 2024 全年度累積報酬分析

      績效摘要
      ┌──────┬────────────────┬──────────┬────────────┐
      │ 排名 │      股票      │ 累積報酬 │ vs S&P 500 │
      ├──────┼────────────────┼──────────┼────────────┤
      │  1   │      NVDA      │ +177.71% │ +153.87% ✓ │
      ├──────┼────────────────┼──────────┼────────────┤
      │  2   │      AMD       │  -16.94% │    -40.78% │
      ├──────┼────────────────┼──────────┼────────────┤
      │  -   │ S&P 500 (基準) │  +23.84% │          - │
      └──────┴────────────────┴──────────┴────────────┘
      關鍵觀察

      NVDA (輝達)
      - 2024 年報酬率 +177.7%，大幅領先 S&P 500 約 154 個百分點
      - 走勢特徵：年初穩步攀升，5-6 月加速上漲至高點 (+200%)，下半年呈高檔震盪

      AMD (超微)
      - 2024 年報酬率 -16.9%，落後 S&P 500 約 41 個百分點
      - 走勢特徵：上半年曾短暫上漲至 +40%，但 7 月後持續走弱，年底收跌

      結論

      兩家 AI 晶片大廠在 2024 年的表現出現明顯分歧：
      - NVDA 受惠於 AI 資料中心需求強勁，全年暴漲近 180%
      - AMD 雖同為 AI 概念股，但市場對其 AI 競爭力存疑，全年下跌近 17%

      圖表已儲存至：output/cumulative-return-2024-only-2026-01-28.png

  # 1.b：股票（多檔），從某年到今天
  - question: '顯示 NVDA 與 AMD 從 2022 年到今天的累積報酬'
    imagePath: images/cumulative-return-2022-nvda-amd-2026-01-28.png
    expectedResult: |
      NVDA vs AMD 從 2022 年至今累積報酬分析
      
      績效摘要（4.1 年期間）
      ┌──────┬────────────────┬──────────┬────────────┐
      │ 排名 │      股票      │ 累積報酬 │ vs S&P 500 │
      ├──────┼────────────────┼──────────┼────────────┤
      │  1   │      NVDA      │ +542.23% │ +495.81% ✓ │
      ├──────┼────────────────┼──────────┼────────────┤
      │  2   │      AMD       │  +75.14% │  +28.72% ✓ │
      ├──────┼────────────────┼──────────┼────────────┤
      │  -   │ S&P 500 (基準) │  +46.42% │          - │
      └──────┴────────────────┴──────────┴────────────┘
      關鍵觀察

      NVDA (輝達)
      - 4 年累積報酬 +542%，大幅領先 S&P 500 約 496 個百分點
      - 2022 年隨大盤下跌約 -50%，但 2023 年起在 AI 浪潮推動下爆發性成長
      - 2024 年中一度突破 +600%，目前維持在 +540% 左右

      AMD (超微)
      - 4 年累積報酬 +75%，領先 S&P 500 約 29 個百分點
      - 2022 年跌幅更深（約 -65%），2023 年跟隨反彈
      - 走勢與 NVDA 在 2023 年前高度相關，但 2024 年起明顯落後

      兩者差異
      ┌──────────────┬───────────┬───────────┐
      │     指標     │   NVDA    │    AMD    │
      ├──────────────┼───────────┼───────────┤
      │ 累積報酬差距 │         - │ 落後 467% │
      ├──────────────┼───────────┼───────────┤
      │ 相對 S&P 500 │ 領先 496% │  領先 29% │
      └──────────────┴───────────┴───────────┘
      結論

      兩檔股票都打敗 S&P 500 基準，但 NVDA 的超額報酬遠勝 AMD。這反映出市場對 NVDA 在 AI 訓練晶片領域的主導地位給予更高溢價，而 AMD 雖有 AI     
      佈局但尚未獲得同等認可。

      圖表已儲存：output/cumulative-return-2022-nvda-amd-2026-01-28.png

  # 2.a：指數 Top N，僅指定年份（整年）
  - question: '找出 Nasdaq 100 在 2024 全年度表現前 10 名的股票'
    imagePath: images/nasdaq100-top10-2024-only-2026-01-28.png
    expectedResult: |
      Nasdaq 100 2024 全年度表現 Top 10  
      ┌──────┬───────┬──────────────────────┬──────────┬────────────┐
      │ 排名 │ 股票  │       公司名稱        │ 累積報酬 │ vs S&P 500 │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  1   │ NVDA  │ NVIDIA               │ +177.71% │ +153.87% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  2   │ AVGO  │ Broadcom             │ +113.89% │  +90.05% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  3   │  CEG  │ Constellation Energy │  +94.96% │  +71.12% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  4   │ MRVL  │ Marvell Technology   │  +85.80% │  +61.96% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  5   │ NFLX  │ Netflix              │  +84.94% │  +61.10% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  6   │ TSLA  │ Tesla                │  +67.99% │  +44.15% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  7   │ META  │ Meta Platforms       │  +67.67% │  +43.83% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  8   │ FTNT  │ Fortinet             │  +62.53% │  +38.69% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  9   │ ISRG  │ Intuitive Surgical   │  +56.20% │  +32.36% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  10  │ AMZN  │ Amazon               │  +45.65% │  +21.81% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  -   │ ^GSPC │ S&P 500 (基準)       │  +23.84% │          - │
      └──────┴───────┴──────────────────────┴──────────┴────────────┘
      關鍵觀察

      主題分布：
      - AI/半導體：NVDA, AVGO, MRVL（3 家）
      - 核電/能源：CEG（1 家）— AI 資料中心電力需求受惠者
      - 科技巨頭：TSLA, META, AMZN, NFLX（4 家）
      - 網路安全：FTNT（1 家）
      - 醫療科技：ISRG（1 家）

      統計摘要：
      - 分析股票數：98 檔
      - 打敗基準數：22 檔（22.4%）
      - Top 10 平均報酬：+85.73%
      - 全體平均報酬：+8.62%

      2024 年的贏家主要集中在 AI 相關半導體與核電概念股，反映市場對 AI 基礎設施需求的強烈預期。

      圖表已儲存：output/nasdaq100-top10-2024-only-2026-01-28.png

  # 2.b：指數 Top N，從某年到今天
  - question: '顯示 Nasdaq 100 自 2022 年以來表現前 20 名的股票'
    imagePath: images/nasdaq100-top20-2026-01-28.png
    expectedResult: |
      Nasdaq 100 自 2022 年以來表現 Top 20
      期間：2021-12-31 ~ 2026-01-27（4.1 年）
      ┌──────┬───────┬──────────────────────┬──────────┬────────────┐
      │ 排名 │ 股票  │       公司名稱       │ 累積報酬 │ vs S&P 500 │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  1   │  CEG  │ Constellation Energy │ +611.07% │ +564.65% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  2   │ NVDA  │ NVIDIA               │ +542.23% │ +495.81% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  3   │ AVGO  │ Broadcom             │ +439.91% │ +393.49% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  4   │  MU   │ Micron               │ +350.27% │ +303.85% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  5   │ KLAC  │ KLA Corp             │ +292.06% │ +245.64% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  6   │ LRCX  │ Lam Research         │ +247.02% │ +200.60% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  7   │  BKR  │ Baker Hughes         │ +158.70% │ +112.28% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  8   │ PCAR  │ PACCAR               │ +139.52% │  +93.10% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  9   │ GOOG  │ Alphabet (C)         │ +133.28% │  +86.86% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  10  │ CRWD  │ CrowdStrike          │ +132.80% │  +86.38% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  11  │ GOOGL │ Alphabet (A)         │ +132.70% │  +86.29% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  12  │ GILD  │ Gilead Sciences      │ +125.60% │  +79.18% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  13  │ AMAT  │ Applied Materials    │ +119.23% │  +72.81% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  14  │ BKNG  │ Booking Holdings     │ +118.31% │  +71.89% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  15  │ VRTX  │ Vertex Pharma        │ +115.92% │  +69.51% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  16  │ ORLY  │ O'Reilly Auto        │ +113.71% │  +67.29% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  17  │ META  │ Meta Platforms       │ +101.48% │  +55.06% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  18  │ PANW  │ Palo Alto Networks   │  +97.75% │  +51.33% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  19  │  MAR  │ Marriott             │  +97.01% │  +50.59% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  20  │ ASML  │ ASML Holding         │  +90.09% │  +43.67% ✓ │
      ├──────┼───────┼──────────────────────┼──────────┼────────────┤
      │  -   │ ^GSPC │ S&P 500 (基準)       │  +46.42% │          - │
      └──────┴───────┴──────────────────────┴──────────┴────────────┘
      主題分布
      ┌────────────┬────────────────────────┬──────┐
      │    類別    │          股票          │ 數量 │
      ├────────────┼────────────────────────┼──────┤
      │ 半導體設備 │ KLAC, LRCX, AMAT, ASML │  4   │
      ├────────────┼────────────────────────┼──────┤
      │ 半導體/AI  │ NVDA, AVGO, MU         │  3   │
      ├────────────┼────────────────────────┼──────┤
      │ 核電/能源  │ CEG, BKR               │  2   │
      ├────────────┼────────────────────────┼──────┤
      │ 科技平台   │ GOOG, GOOGL, META      │  3   │
      ├────────────┼────────────────────────┼──────┤
      │ 網路安全   │ CRWD, PANW             │  2   │
      ├────────────┼────────────────────────┼──────┤
      │ 生技醫藥   │ GILD, VRTX             │  2   │
      ├────────────┼────────────────────────┼──────┤
      │ 消費/旅遊  │ BKNG, MAR, ORLY, PCAR  │  4   │
      └────────────┴────────────────────────┴──────┘
      統計摘要

      - 分析股票數：98 檔
      - 打敗基準數：39 檔（39.8%）
      - Top 20 平均報酬：+207.93%
      - 全體平均報酬：+49.45%

      關鍵觀察

      1. CEG（Constellation Energy）以 +611% 奪冠：核電概念股受惠於 AI 資料中心對穩定電力的需求
      2. 半導體設備股表現亮眼：KLAC、LRCX、AMAT 等設備廠商受惠於晶片製造擴張
      3. 2022 年熊市倖存者：META 從 2022 年低點強勢反彈，累積報酬超過 +100%

      圖表已儲存：output/nasdaq100-top20-2026-01-28.png
  
qualityScore:
  overall: 68
  badge: 白銀
  evaluatedAt: "2026-01-28"
  evaluatedBy: "skill-quality-guide.md v1.1.0"

  metrics:
    problemFit: 70
    correctness: 80
    dataGovernance: 60
    robustness: 65
    maintainability: 80
    usability: 55

  details: |
    **任務適配度（70/100）**
    - SKILL.md 有清晰的一句話目標（<objective>）
    - 支援 4 種分析情境，工作流覆蓋主路徑
    - input-schema.md 欄位定義清楚
    - 缺少「不適用情境」說明 (-5)
    - 輸出支持的決策未明確說明 (-10)
    - workflows/ 缺少 top20.md (-5)

    **正確性（80/100）**
    - methodology.md 有完整公式推導
    - scripts/ 實作與文檔吻合
    - examples/ 有 golden_cases.json 可回歸
    - 有 test_calculations.py 測試套件
    - 可增加更多邊界案例測試

    **資料治理（60/100）**
    - data-sources.md 有完整來源說明
    - 有 cache 機制（12小時有效期）
    - 缺少 cross-validate.md (-10)
    - 缺少 explore_*.py (-5)
    - fetch 無記錄 timestamp 到輸出 (-5)
    - fallback 替代方案未實作 (-5)

    **穩健性（65/100）**
    - 有 retry 機制（3次，指數退避）
    - 有 validators.py 輸入驗證
    - 有缺值處理（dropna, NaN check）
    - 無明確 rate limit 控制 (-3)
    - 無明確 timeout 設定 (-3)
    - 無降級輸出機制 (-5)
    - try-except 覆蓋不完整 (-5)

    **可維護性（80/100）**
    - manifest.json 有 semver 版本（1.1.0）
    - templates/ 欄位命名穩定
    - scripts 模組化，參數集中定義
    - 無重複文件（無文件漂移）
    - inputs/outputs schema 版本未明確 (-3)

    **輸出可用性（55/100）**
    - 有 visualizer 視覺化腳本
    - 有風險提示（倖存者偏差、股息）
    - 缺少 TL;DR 結論一句話 (-10)
    - 缺少 historical-episodes.md (-10)
    - 缺少「下一步」建議 (-5)
    - JSON 缺少 status/confidence/reasons (-9)
    - 缺少「如何解讀」文檔 (-5)

upgradeNotes: |
  **白銀 → 黃金 升級路徑**（需 overall ≥ 80，所有維度 ≥ 70）

  1. **資料治理 60 → 75**
     - 增加 cross-validate.md 或 explore_*.py
     - fetch 輸出增加 timestamp 記錄
     - 實作 fallback 替代來源

  2. **穩健性 65 → 75**
     - 增加 timeout 設定
     - 增加降級輸出機制
     - 完善 try-except 覆蓋

  3. **輸出可用性 55 → 75**
     - output-markdown.md 增加 TL;DR + 下一步
     - 增加 historical-episodes.md
     - 增加「如何解讀」文檔
     - JSON 輸出增加 status/confidence/reasons

bestPractices:
  - title: 使用適當的起始年份
    description: 選擇有意義的起始年份，避免太短（波動大）或太長（資料不完整）
  - title: 搭配基準比較
    description: 累積報酬率需與基準比較才有意義，避免單看絕對值
  - title: 注意倖存者偏差
    description: 成分股列表是當前的，歷史成分可能不同

pitfalls:
  - title: 忽略股息再投資
    description: 本工具使用價格報酬，未計入股息，對高股息股票可能低估
    consequence: 低估實際總報酬
  - title: 成分股變動
    description: 指數成分股會定期調整，歷史分析使用當前成分
    consequence: 存在倖存者偏差

faq:
  - question: 為什麼要與 S&P 500 基準比較？
    answer: |
      單看累積報酬率無法判斷投資表現好壞：

      - 如果市場漲 50%，你賺 40%，其實表現不佳
      - 如果市場跌 20%，你只跌 10%，表現優異

      「vs 基準」顯示超額報酬（Alpha），才是真正的投資能力指標。
      S&P 500 代表美股大盤整體表現，是最常用的基準。

  - question: 累積報酬率是怎麼計算的？
    answer: |
      **公式**
      ```
      累積報酬率 = (期末價格 / 起始價格 - 1) × 100%
      ```

      **範例**
      - 起始價格：$100
      - 期末價格：$150
      - 累積報酬率 = (150/100 - 1) × 100% = +50%

      起始日為指定年份前一年的最後一個交易日，例如分析 2024 年，起始日為 2023-12-29。

  - question: 報酬率數據包含股息嗎？
    answer: |
      **不包含**。本工具使用「價格報酬」（Price Return），僅計算股價變動。

      **影響**：
      - 高股息股（如 AT&T、可口可樂）的實際總報酬會比顯示的更高
      - 成長型科技股（如 NVDA、AMZN）影響較小，因為股息率低

      如需「總報酬」（Total Return），請使用其他專業工具。

  - question: 指數成分股分析有什麼限制？
    answer: |
      **倖存者偏差**
      - 成分股列表是當前的組成
      - 歷史上可能有不同的成分股（被踢出或新加入）
      - 例如：2020 年的 Nasdaq 100 和現在不完全相同

      **執行時間**
      - 分析 100 檔股票約需 2-3 分鐘
      - 使用快取可加速（12 小時有效）

      **API 限制**
      - Yahoo Finance 有速率限制
      - 大量請求可能被暫時封鎖

about:
  repository: https://github.com/fatfingererr/macro-skills
  branch: main
  additionalInfo: |
    ## 資料來源

    **Yahoo Finance**
    - 官網：https://finance.yahoo.com
    - 套件：yfinance
    - 費用：免費公開
    - 限制：有 API 速率限制，使用快取減少請求

    ## 計算方法

    **累積報酬率**
    ```
    R = (P_end / P_start - 1) × 100%
    ```

    **vs 基準（超額報酬）**
    ```
    Alpha = 股票累積報酬 - S&P 500 累積報酬
    ```
